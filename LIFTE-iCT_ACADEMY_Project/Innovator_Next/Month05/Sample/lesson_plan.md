# 授業シナリオ：ボタン反応ゲーム（90分×2）

## 概要
生徒は KivyMD を使い、MDFlatButton を中心にしたシンプルな反応ゲームを作る。目標は「90分で動く最小版を作る」「宿題でターゲット出現とスコアを実装」「2回目で仕上げ発表」。

---

## 配布ファイル
- reflexes game_day1.py             (初日完成形)
- reflexes game_homework_version.py (宿題完成形)
- reflexes game_final_day.py        (最終完成版)
- ハンドアウト（授業中配布）

---

## 1日目（90分）詳細タイムライン
### 準備（0〜10分）
- 教師が簡単にデモを実行して見せる（完成形イメージ）。
- 全員で Python / Kivy / KivyMD の実行確認。

### 導入（10〜20分）
- 画面構成を図で説明（Score, Timer, Start, Grid）。
- MDFlatButton の基本（text, on_release）の説明。

### 実装パート1（20〜60分）
- 課題: Day1_completion.py を配布して各自で起動。
- 目標: 3×3 のボタンを並べ、押すと index がコンソールに出るようにする。
- サポート: 表示されない／イベントが動かない生徒を個別対応。

### 実装パート2（60〜85分）
- 課題: Start ボタンでタイマーが動き、時間経過で停止することを実装。
- 解説: Clock.schedule_interval の使い方と cancel の重要性。

### 振り返りと宿題説明（85〜90分）
- 宿題: Homework_version.py の仕様を説明（ランダム出現、スコア加算）。
- 提出物: スクリーンショット or 30秒動画

---

## 宿題の詳細（ヒント付き）
### 宿題A: ターゲット出現（必須）
- ヒント1: `random.randrange(9)` で 0〜8 のランダム選出。
- ヒント2: `Clock.schedule_interval(self._spawn, 1.5)` で spawn を呼ぶ。
- ヒント3: 前のターゲットは `_set_normal` で戻す。

### 宿題B: スコア加算（必須）
- ヒント1: on_release ハンドラで `instance.index` と `self.active` を比較。
- ヒント2: `self.score += 1` と `self.root.ids.score_label.text = f"Score: {self.score}"`

---

## 2日目（90分）詳細タイムライン
### 宿題レビュー（0〜30分）
- 生徒の提出を確認。動かないチームはペアでサポート。
- よくある不具合と対処：多重タイマー、active が残る、start 連打。

### 統合と安定化（30〜60分）
- 全員で spawn と tick の cancel をチェック。
- 各自で色やタイマーを調整して安定動作を確認。

### 拡張ワーク（60〜80分）
- 選べる短時間拡張（各 15–20 分想定）：
  - 効果音を追加（wav 再生）
  - 難易度切替（spawn 間隔を変える）
  - ハイスコア保存（ローカル JSON）

### 発表（80〜90分）
- 1人 1〜2 分で実行デモ＋実装説明。
- 教師は動作を確認して簡単なフィードバック。

---

## 評価基準（短く）
- 動作（50%）：正しく動作するか
- 理解（30%）：実装の要点を説明できるか
- 創意工夫（20%）：短時間の拡張や改善

---

## トラブルシュート集（短く）
- 画面が出ない：Builder.load_string の位置やインポート漏れを確認
- ボタンが反応しない：on_release のバインド確認
- タイマーが重複：start_game の最初で既存タイマーを cancel

---

## 教師用チェックリスト（授業前）
- 事前に 1 台は全コード実行確認済みのテスト機を用意
- requirements.txt を配布して依存を揃える
- 予備の拡張案（短い）を印刷して配布
