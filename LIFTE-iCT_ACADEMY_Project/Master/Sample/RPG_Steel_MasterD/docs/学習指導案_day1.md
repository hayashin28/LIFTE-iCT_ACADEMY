# 講師用 学習指導案（厚め・詳細）— Steel_MasterD / Day1（7人×3h）
**作成日**: 2025-10-12

## 1. ねらい / 到達目標
- タイトル→フィールド画面までの起動動線を確立する。
- 入力（矢印/WASD）に応じてプレイヤーを移動させ、**壁タイルに接触したら停止**させる。
- デバッグ HUD（x,y,dir,fps,tile_x,tile_y）を表示できる。
- 提出：15秒動画 + スクショ1枚 + PR（テンプレ使用）。

## 2. 評価観点（ルーブリック）
| 観点 | 4 (達成) | 3 | 2 | 1 (未満) |
|---|---|---|---|---|
| 起動動線 | venv 構築・起動・終了が自走できる | venv 構築に助力要 | Kivy インストールつまずき | 実行不可 |
| 入力/移動 | 4方向移動・速度一定・dt対応 | 4方向移動のみ | キー取りこぼし | 移動不可 |
| 衝突判定 | 軸ごと補正（X→Y）で安定 | 片軸のみ補正 | 中央点のみ | 壁抜け |
| HUD | x,y,dir,fps,tile座標表示 & Hトグル | 4項目表示 | 2項目のみ | なし |
| 提出物 | PR/スクショ/動画/本文テンプレ完備 | PR or 媒体欠落 | 文面不足 | 未提出 |

## 3. タイムライン（180分）
- 0:00-0:10 オープニング（完成像デモ・今日のKPTの書き方周知）
- 0:10-0:30 環境整備（venv, Kivy インストール, 実行）
- 0:30-1:10 実装① 入力/移動（dt導入・速度）
- 1:10-1:20 休憩
- 1:20-2:00 実装② 衝突判定（軸別補正・壁タイル csv 読込）
- 2:00-2:30 実装③ HUD（Label貼付・トグル・fps表示）
- 2:30-2:55 提出物作成（スクショ/動画/PR本文）
- 2:55-3:00 クロージング（KPT回収・翌日予告）

## 4. 板書要点（黒板）
- 目標：**移動 + 衝突 + HUD + PR**
- ルール：魔法値禁止→`config.py` / 命名：`feature/day1-<name>`
- KPT：Keep1 / Problem1 / Try1（PR本文末尾に記入）

## 5. 役割分担（7人）
- A 入力/移動・速度（`field.py`）
- B 衝突判定（`field.py` の `move_with_collision`）
- C マップ読込（`assets/maps/field.csv` を 2次元配列化）
- D HUD（`ui/hud.py`）
- E タイトル/遷移（`scenes/title.py`）
- F 設定（`config.py`）
- G 提出運用（README・PRテンプレ・録画）

> 初日は「全員ローカル」で OK。役割は主担当の旗を立てる程度。5〜10分で相互レビュー。

## 6. よくある詰まりと対処
- **Kivyが入らない**：`pip install --upgrade pip setuptools wheel` → 再試行。Python 3.10〜3.12 を推奨。
- **実行時にウィンドウが出ない**：仮想環境未有効化 / コンソールにエラー（欠落モジュール）を確認。
- **キーが効かない**：Window フォーカス確認。`request_keyboard` が取得できているかログで確認。
- **壁抜けする**：移動を X → 衝突補正 → Y → 衝突補正 の順で。四隅サンプリングで AABB 近似。
- **fpsが0**：`Clock.get_fps()` は直後は 0 になり得る。平均 dt から算出で補う。

## 7. 進行チェック（講師用）
- [ ] 起動確認（タイトル→フィールド）
- [ ] 入力/移動（上下左右 + dt 反映）
- [ ] 衝突（壁タイルで停止・引っかかり無し）
- [ ] HUD（x,y,dir,fps,tile座標）+ H トグル
- [ ] PR（テンプレ順守・スクショ/動画添付）

## 8. 次回への布石（Day2 予告）
- プレイヤー当たり判定の矩形を `config.py` で調整
- タイルマップの差し替え（Steel 風アセット）
- スタート位置・ゴール判定・簡易イベント

## 9. 参考（撮影のコツ）
- Win + G（Xbox Game Bar）で15秒録画
- 1280x720 推奨。HUD 表示を ON にしてから録画開始。

